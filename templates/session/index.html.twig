{% extends 'base.html.twig' %}

{% block title %}Hello SessionController!{% endblock %}

{% block body %}

    {% if is_granted('ROLE_ADMIN') %}

    <a href="{{ path('session_new') }}" class="btn btn-primary"> Ajouter une session </a>

    {% endif %}
    <table class="table">
        <thead>
            <tr>
                <th>Formation</th>
                <th>Promotion</th>
                <th>Date de d√©but</th>
                <th>Date de Fin</th>

                {% if is_granted('ROLE_ADMIN') %}

                <th>Modifier</th>
                <th>Supprimer</th>

                {% endif %}
            </tr>
        </thead>

        <tbody>

        {% for session in sessions %}
            <tr>
                <td>{{ session.contenir.nomFormation }}</td>
                <td><a href="{{ path('session_show', {'id':session.id}) }}">{{ session.Promotion }}</a></td>
                <td>{{ session.dateDebut.format( 'd/m/Y') }}</td>
                <td>{{ session.dateFin.format( 'd/m/Y') }}</td>

                
                {% if is_granted('ROLE_ADMIN') %}

                <td><a href="{{ path('session_edit', {'id':session.id}) }}" class="btn btn-warning"> Modifier</a></td>
                <td>{{ include('session/delete.html.twig') }}</td>

                {% endif %}
            </tr>
        {% endfor %}
{% endblock %}
